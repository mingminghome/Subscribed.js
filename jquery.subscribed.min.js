//by mingminghomework
(function(a){a.fn.SubscribedJS=function(e){function f(){var b=a('<div class="pop_box_reminder"><div class="pop_content"></div></div>');a(b).appendTo(".pop_background");a(".pop_box_close").click(function(){a(".pop_box_reminder").fadeOut().remove();a(".pop_background").fadeOut().remove()});a(".pop_background").click(function(b){a(b.target).closest(".pop_box_reminder").length||(a(".pop_box_reminder").fadeOut().remove(),a(".pop_background").fadeOut().remove())})}function h(){a(' .erForm input[type="text"] ').focus(function(){a(".erFormError").html("")});
a("#erFormSubmit").click(function(c){c.preventDefault();c=a("#erFormBox").val();var g=/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/igm;c?g.test(c)?a.ajax({url:b.url,type:"POST",data:{k:b.event,i:c},dataType:"json",success:function(a){"error"in a?999==a.error.code?d(b.err["05"]):d(b.err["03"]):(k(),"undefined"!==typeof ga&&ga("send","event","Subscribe","Submit Success",b.gaEvent))},error:function(a){d(b.err["03"])}}):d(b.err["02"]):d(b.err["01"]);a("#erFormBox").val("");var e=this;a(this).attr("disabled",
!0);setTimeout(function(){a(e).removeAttr("disabled")},1E3)})}function k(){a(".erFormContainer, .erFormError").fadeOut(500,function(){a(this).remove()});var c=a(""+('<div class="erFormTitle"><h2>'+b.succ.title+"</h2><p>"+b.succ.desc+"</p></div>")+'<div class="erFormRecomm"></div>');a(c).fadeIn(500,function(){a(this).appendTo(".pop_content")})}function d(b){var c=a(".erFormError");a(c).html(b);a("#erFormSubmit").addClass("disable")}var b=a.extend({},{event:"",url:"",height:"auto",width:"80%",top:"20%",
left:"10%",placeholder:"&#xf003; E-mail",title:"",desc:"",btnText:"Submit",tc:"",gaEvent:"Subscribe Event",err:{"01":"&#xf059; May I know your E-mail address?","02":"&#xf06a; Please enter a vaild E-mail address!","03":"&#xf119; We found something unusual on our server! Please try again later!","04":"&#xf119; We found something unusual on network! Please try again later!","05":"&#xf119; You have already applied!"},succ:{title:"&#xf00c;",desc:"Thanks for your application!"}},e);return this.click(function(c){c=
a('<div class="pop_background"><i class="pop_box_close fa fa-times"></i></div>');a(c).appendTo("body");f();c=a('<div class="erFormTitle"><h1>'+b.title+"</h1><p>"+b.desc+'</p></div><div class="erFormError"></div><div class="erFormContainer"><form class="erForm" action="javascript:void(0)"><div class="erFormInputWrapper"><input id="erFormBox" type="text" placeholder="'+b.placeholder+'"><input id="erFormSubmit" type="submit" value="'+b.btnText+'"></div><div class="erFormTc">'+b.tc+"</div></form></div>");
a(c).appendTo(".pop_content");a(".pop_box_reminder").css({left:b.left,top:b.top,height:b.height,width:b.width});h();a(".pop_box_reminder").fadeIn()})}})(jQuery);